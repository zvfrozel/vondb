desc:  101-element subset, forbidden numbers
source:  IMO 2003/1
tags:  [weak, local, extreme, greedy, instructive, aleph]
hardness: 10
url: https://aops.com/community/p261
author: Carlos Gustavo Moreira (BRA)

---

Let $A$ be a $101$-element subset of $S=\{1,2,\dots,10^6\}$.
Prove that there exist numbers $t_1$, $t_2, \dots, t_{100}$ in $S$ such that the sets
\[ A_j=\{x+t_j\mid x\in A\},\qquad j=1,2,\dots,100  \]
are pairwise disjoint.

---

A greedy algorithm works: suppose we have picked
\[ T = \left\{ t_1, \dots, t_n \right\} \]
as large as possible, meaning it's impossible to add any more elements to $T$.
That means, for each $t \in \left\{ 1, \dots, 10^6 \right\}$ either $t \in T$ already
or there exists two distinct elements $a, b \in A$ and $t_i \in T$ such that
\[ t = t_i + b - a \qquad (\star).  \]

There are at most
$|T| \cdot |A| \cdot \left( |A|-1 \right) = n \cdot 101 \cdot 100$
possible values for the right-hand side of $(\star)$.
So we therefore must have
\[ 101 \cdot 100 \cdot n + n \ge 10^6 \]
which implies $n > 99$, as desired.

\begin{remark*}
  It is possible to improve the bound significantly with a small optimization;
  rather than adding any $t$, we require that $t_1 < \dots < t_n$
  and that at each step we add the \emph{least} $t \in S$ which is permitted.
  In that case, one finds we only need to consider $b > a$ in $(\star)$,
  and so this will save us a factor of $2+o(1)$
  as the main term $101 \cdot 100$ becomes $\binom{101}{2}$ instead.
  This proves it's possible to choose $198$ elements.

  See, e.g., \url{https://aops.com/community/p22959828} for such a write-up.
\end{remark*}
