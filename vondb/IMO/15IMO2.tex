desc:  Horrible powers of two problem
source:  IMO 2015/2
tags:  [hardanswer, find, ugly, grinding, rushdown, parity, pitfall, cases, neatness, gimel]
author: Dušan Djukić (SRB)
hardness: 30
url: https://aops.com/community/p5079630

---

Find all positive integers $a$, $b$, $c$ such that
each of $ab-c$, $bc-a$, $ca-b$ is a power of $2$
(possibly including $2^0=1$).

---

Here is the solution of \textbf{Telv Cohl},
which is the shortest solution I am aware of.
We will prove the only solutions are $(2,2,2)$, $(2,2,3)$,
$(2,6,11)$ and $(3,5,7)$ and permutations.

WLOG assume $a \ge b \ge c > 1$, so $ab-c \ge ca-b \ge bc-a$.
We consider the following cases:
\begin{itemize}
  \ii If $a$ is even, then
  \begin{align*}
    ca-b &= \gcd (ab-c, ca-b) \le \gcd (ab-c, a(ca-b)+ab-c) \\
    &= \gcd\left( ab-c, c(a^2-1) \right).
  \end{align*}
  As $a^2-1$ is odd, we conclude $ca-b \le c$.
  This implies $a=b=c=2$.

  \ii If $a$, $b$, $c$ are all odd, then $a > b > c > 1$ follows.
  Then as before
  \[  ca-b \le \gcd (ab-c, c(a^2-1))
    \le 2^{\nu_2(a^2-1)} \le 2a+2 \le 3a-b \]
  so $c = 3$ and $a = b+2$.
  As $3a-b = ca-b \ge 2(bc-a) = 6b-2a$ we then conclude $a=7$ and $b=5$.

  \ii If $a$ is odd and $b$, $c$ are even, then $bc-a=1$
  and hence $bc^2 - b - c = ca - b$.
  Then from the miraculous identity
  \[ c^3-b-c = (1-c^2)(ab-c) + a(\underbrace{bc^2-b-c}_{=ca-b}) + (ca-b) \]
  so we conclude $\gcd(ab-c, ca-b) = \gcd(ab-c, c^3-b-c)$, in other words
  \[ bc^2-b-c = ca-b = \gcd(ab-c, ca-b) = \gcd(ab-c, c^3-b-c). \]
  We thus consider two more cases:
  \begin{itemize}
    \ii If $c^3-b-c \neq 0$ then
    the above implies $|c^3-b-c| \ge bc^2-b-c$.
    As $b \ge c > 1$, we must actually have $b = c$,
    thus $a = c^2-1$.
    Finally $ab-c = c(c^2-2)$ is a power of $2$, hence $b=c=2$, so $a=3$.

    \ii In the second case, assume $c^3-b-c = 0$, hence $c^3-c$.
    From $bc-a=1$ we obtain $a=c^4-c^2-1$,
    hence
    \[ ca-b = c^5-2c^3 = c^3(c^2-2) \]
    is a power of $2$, hence again $c = 2$.
    Thus $a=11$ and $b=6$.
  \end{itemize}
\end{itemize}
This finishes all cases, so the proof is done.
