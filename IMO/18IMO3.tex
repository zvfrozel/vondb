author: Morteza Saghafian (IRN)
desc: Anti-Pascal triangle
source: IMO 2018/3
tags: [2018-07, arrows, size, criticalclaim, magic, nice, adhoc, yesno, understand, yod]
hardness: 45
url: https://aops.com/community/p10626557

---

An \emph{anti-Pascal triangle} is an equilateral triangular array
of numbers such that, except for the numbers in the bottom row,
each number is the absolute value of the difference
of the two numbers immediately below it.
For example, the following array is an anti-Pascal triangle
with four rows which contains every integer from $1$ to $10$.
\begin{center}
\begin{tikzpicture}[scale = 0.8]
\node at (1.5,2.58) {$4$};
\node at (1,1.72) {$2$};
\node at (2,1.72) {$6$};
\node at (0.5,0.86) {$5$};
\node at (1.5,0.86) {$7$};
\node at (2.5,0.86) {$1$};
\node at (0,0) {$8$};
\node at (1,0) {$3$};
\node at (2,0) {$10$};
\node at (3,0) {$9$};
\end{tikzpicture}
\end{center}
Does there exist an anti-Pascal triangle with $2018$ rows
which contains every integer from $1$ to $1+2+\dots +2018$?

---

The answer is no, there is no anti-Pascal triangle
with the required properties.

Let $n = 2018$ and $N = 1+2+\dots+n$.
For every number $d$ not in the bottom row,
draw an arrow from $d$ to the larger of the two numbers below it
(i.e.\ if $d=a-b$, draw $d \to a$).
This creates an \emph{oriented forest} (which looks like lightning strikes).

Consider the directed path starting from the top vertex $A$.
Starting from the first number, it increments by at least $1+2+\dots+n$,
since the increments at each step in the path are distinct;
therefore equality must hold
and thus the path from the top ends at $N = 1+2+\dots+n$
with all the numbers $\{1,2,\dots,n\}$ being close by.
Let $B$ be that position.

\begin{center}
\begin{asy}
  size(8cm);
  pair P(int x, int y) {
    return x*dir(60)+y*dir(0);
  }
  pair A = P(12,0);
  draw(A--P(0,0)--P(0,12)--cycle, grey+0.4);
  draw(A--P(11,1)--P(9,1)--P(8,2)--P(5,5)--P(3,7)--P(1,7)--P(0,8),
    orange+1.1, EndArrow(TeXHead));
  draw(P(0,7)--P(7,0), blue);
  draw(P(0,9)--P(3,9), blue);
  draw(P(7,0)--P(6,0)--P(5,1)--P(3,1)--P(2,2)--P(0,2),
    orange+1.1, EndArrow(TeXHead));

  dot("$A$", A, dir(90));
  dot("$B$", P(0,8), dir(-90));
  dot("$C$", P(7,0), dir(150));
  dot("$D$", P(0,2), dir(-90));
  dot("$X$", P(0,7), dir(-90));
  dot("$Y$", P(0,9), dir(-90));
  dot(P(3,9));
\end{asy}
\end{center}
Consider the two left/right neighbors $X$ and $Y$ of the endpoint $B$.
Assume that $B$ is to the right of the midpoint of the bottom side,
and complete the equilateral triangle as shown to an apex $C$.
Consider the lightning strike from $C$ hitting the bottom at $D$.
It travels at least $\left\lfloor n/2-1 \right\rfloor$ steps, by construction.
But the increases must be at least $n+1$, $n+2$, \dots since $1,2,\dots,n$
are close to the $A \to B$ lightning path.
Then the number at $D$ is at least
\[ (n+1) + (n+2) + \dots +
  \left( n+\left( \left\lfloor n/2-1 \right\rfloor \right) \right)
  > 1 + 2 + \dots + n \]
for $n \ge 2018$, contradiction.
